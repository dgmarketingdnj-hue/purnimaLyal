<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Complete Offer to Join</title>
    <style>
        body, html {margin:0;padding:0;height:100%;overflow:hidden;background:#000;font-family:Arial,sans-serif;}
        iframe {border:none;width:100%;height:100vh;position:fixed;top:0;left:0;z-index:1;}
        .header {position:fixed;top:0;left:0;right:0;background:#ff0066;color:white;text-align:center;padding:14px;font-weight:bold;font-size:18px;z-index:998;}
        .countdown {position:fixed;top:60px;right:15px;color:#ff66cc;font-size:24px;font-weight:bold;padding:6px 12px;border-radius:8px;z-index:999;}
        .proceed-btn {display:none;position:fixed;bottom:30px;left:50%;transform:translateX(-50%);background:#00cc00;color:white;padding:16px 36px;border:none;border-radius:30px;font-size:18px;font-weight:bold;cursor:pointer;z-index:999;animation:pulse 1.8s infinite;}
        .proceed-btn:hover {background:#00aa00;}
        @keyframes pulse {0%{transform:translateX(-50%) scale(1);}50%{transform:translateX(-50%) scale(1.05);}100%{transform:translateX(-50%) scale(1);}}
    </style>
</head>
<body>

    <div class="header">Complete Offer to Unlock Telegram Group</div>
    <div class="countdown"><span id="timer">30</span>s</div>

    <button class="proceed-btn" id="proceedBtn">Offer Complete â€“ Proceed to Telegram</button>

    <iframe id="offerFrame" src="https://optilinklock.com/1843981" frameborder="0"></iframe>

    <!-- TRACKING PIXEL (Replace with your affiliate pixel) -->
    <!-- <img src="YOUR_TRACKING_PIXEL_URL" width="1" height="1" style="display:none;"> -->

    <script>
        const iframe = document.getElementById('offerFrame');
        const timerDisplay = document.getElementById('timer');
        const proceedBtn = document.getElementById('proceedBtn');
        const TELEGRAM_URL = "https://t.me/+8CpHNCP1emhiNzVl";

        let timeLeft = 30;
        let countdown;
        let offerCompleted = false;

        // Timer (visual only)
        countdown = setInterval(() => {
            timeLeft--;
            timerDisplay.textContent = timeLeft;
            if (timeLeft <= 0) {
                clearInterval(countdown);
                timerDisplay.textContent = "0";
            }
        }, 1000);

        // Auto-detect completion
        setInterval(() => {
            try {
                const url = iframe.contentWindow.location.href.toLowerCase();
                if (!offerCompleted && (
                    url.includes('thankyou') || url.includes('success') || 
                    url.includes('complete') || url.includes('congrat') || 
                    url.includes('done') || url.includes('redirect') ||
                    url !== "https://optilinklock.com/1843981"
                )) {
                    offerCompleted = true;
                    showProceed();
                }
            } catch (e) {}
        }, 2000);

        // Manual trigger
        window.addEventListener('message', (e) => {
            if (e.data === 'offer_done') showProceed();
        });

        function showProceed() {
            clearInterval(countdown);
            timerDisplay.textContent = "Done";
            timerDisplay.style.color = "#00cc00";
            proceedBtn.style.display = "block";
        }

        proceedBtn.addEventListener('click', () => {
            proceedBtn.innerHTML = "Joining...";
            proceedBtn.disabled = true;
            setTimeout(() => window.location.href = https://t.me/+8CpHNCP1emhiNzVl, 800);
        });
    </script>
</body>
</html>